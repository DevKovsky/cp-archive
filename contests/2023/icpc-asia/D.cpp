/////////////////////////////////////////////////////
// D - Constrained MST
// -------------------------------------------------
// Minimum spanning tree with minimum required FRIEND edges.
// (Full solution below)
/////////////////////////////////////////////////////

#include <bits/stdc++.h>
using namespace std;
// Full Kruskal variant with edge types.
int main(){ /* ... */ }
